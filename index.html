<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ê—Ä–∞–±—Å–∫–∏–µ —Å–ª–æ–≤–∞ –∏ –∏–≥—Ä–∞</title>
<style>
body {
  margin:0; padding:1rem; font-family:sans-serif; background:#121212; color:#eee; direction:rtl;
}
h1 {text-align:center;}
input,button {
  width:100%; margin:0.5rem 0; padding:0.5rem; font-size:1rem; border:none; border-radius:5px;
}
button {background:#333; color:white;}
button:hover {background:#555;}
.word-list {max-height:200px;overflow-y:auto;border:1px solid #333;padding:0.5rem;margin:1rem 0;}
.word-item {padding:0.3rem;}
.word-item:hover {background:#333;cursor:pointer;}
#translation {margin-top:1rem;text-align:center;font-size:1.2rem;}
.game {margin-top:2rem;border-top:1px solid #333;padding-top:1rem;}
.options button {margin:0.2rem;width:48%;}
</style>
</head>
<body>

<h1>üìñ –ê—Ä–∞–±—Å–∫–∏–µ —Å–ª–æ–≤–∞ –∏ –∏–≥—Ä–∞</h1>

<input type="text" id="search" placeholder="üîç –ü–æ–∏—Å–∫ —Å–ª–æ–≤–∞...">

<div class="word-list" id="wordList"></div>
<div id="translation"></div>
<button id="playAudio" style="display:none;">üîä –ü—Ä–æ—Å–ª—É—à–∞—Ç—å</button>

<div class="game">
  <h2>üéÆ –ò–≥—Ä–∞: —É–≥–∞–¥–∞–π —Å–ª–æ–≤–æ</h2>
  <div id="question"></div>
  <div class="options" id="options"></div>
  <div id="result"></div>
  <button id="next">‚û°Ô∏è –°–ª–µ–¥—É—é—â–µ–µ</button>
</div>

<script>
const words = [
  {arabic:"ŸÉÿ™ÿßÿ®", translation:"–∫–Ω–∏–≥–∞", audio:"https://ttsmp3.com/text-to-speech/British%20English/book/"},
  {arabic:"ŸÖÿßÿ°", translation:"–≤–æ–¥–∞", audio:"https://ttsmp3.com/text-to-speech/British%20English/water/"},
  {arabic:"ÿ®Ÿäÿ™", translation:"–¥–æ–º", audio:"https://ttsmp3.com/text-to-speech/British%20English/house/"},
  {arabic:"ŸÇÿ∑ÿ©", translation:"–∫–æ—à–∫–∞", audio:"https://ttsmp3.com/text-to-speech/British%20English/cat/"},
  {arabic:"ÿ™ŸÅÿßÿ≠ÿ©", translation:"—è–±–ª–æ–∫–æ", audio:"https://ttsmp3.com/text-to-speech/British%20English/apple/"},
  // ‚Ä¶ –¥–æ–±–∞–≤—å —Å–≤–æ–∏ —Å–ª–æ–≤–∞ —Ç—É—Ç
];

const wordList = document.getElementById('wordList');
const search = document.getElementById('search');
const translation = document.getElementById('translation');
const playAudio = document.getElementById('playAudio');

function showWords(filter='') {
  wordList.innerHTML = '';
  words.filter(w => w.arabic.includes(filter) || w.translation.includes(filter)).forEach(w => {
    const div = document.createElement('div');
    div.className = 'word-item';
    div.textContent = `${w.arabic} ‚Äî ${w.translation}`;
    div.onclick = () => {
      translation.textContent = `${w.arabic} ‚Äî ${w.translation}`;
      playAudio.style.display = 'inline-block';
      playAudio.onclick = () => new Audio(w.audio).play();
    };
    wordList.appendChild(div);
  });
}

search.oninput = () => showWords(search.value.trim());
showWords();

// –ò–≥—Ä–∞
const question = document.getElementById('question');
const options = document.getElementById('options');
const result = document.getElementById('result');
const next = document.getElementById('next');

function newGame() {
  result.textContent = '';
  const word = words[Math.floor(Math.random()*words.length)];
  question.textContent = `–ö–∞–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è: ${word.translation}?`;
  const correct = word.arabic;

  const choices = new Set([correct]);
  while(choices.size<4) {
    choices.add(words[Math.floor(Math.random()*words.length)].arabic);
  }

  options.innerHTML = '';
  Array.from(choices).sort(()=>Math.random()-0.5).forEach(choice => {
    const btn = document.createElement('button');
    btn.textContent = choice;
    btn.onclick = () => {
      if(choice===correct) result.textContent='‚úÖ –í–µ—Ä–Ω–æ!';
      else result.textContent=`‚ùå –ù–µ–≤–µ—Ä–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${correct}`;
    };
    options.appendChild(btn);
  });
}
next.onclick = newGame;
newGame();
</script>

</body>
</html>
